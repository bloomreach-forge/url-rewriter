# install needed maven dependency (not in maven repo)
mvn install:install-file -DgroupId=org.tuckey -DartifactId=gzip -Dversion=1.0 -Dpackaging=jar -Dfile=lib/gzipfilter-repackaged.jar

# add CMS plugin to your project:
    <dependency>
      <groupId>org.onehippo.forge.rewriting</groupId>
      <artifactId>rewriting-module-cms</artifactId>
      <version>${xxx}</version>
    </dependency>

# add HST plugin to your project

    <dependency>
      <groupId>org.onehippo.forge.rewriting</groupId>
      <artifactId>rewriting-module-hst</artifactId>
      <version>${xxx}</version>
    </dependency>

# configure site web.xml filter:

  <filter>
    <filter-name>RewriteFilter</filter-name>
    <filter-class>org.onehippo.forge.rewriting.HippoRewriteFilter</filter-class>
    <!-- sets up log level (will be logged to context log)
     can be: TRACE, DEBUG, INFO (default), WARN, ERROR, FATAL, log4j, commons, slf4j,
     sysout:{level} (ie, sysout:DEBUG)
     if you are having trouble using normal levels use sysout:DEBUG
     (default WARN) -->
    <init-param>
      <param-name>logLevel</param-name>
      <param-value>slf4j</param-value>
    </init-param>
    <!-- you can disable status page if desired
can be: true, false (default true)              -->
    <init-param>
      <param-name>statusEnabled</param-name>
      <param-value>true</param-value>
    </init-param>
    <!-- you can change status path so that it does not
conflict with your installed apps (note, defaults
to /rewrite-status) note, must start with /     -->
    <init-param>
      <param-name>statusPath</param-name>
      <param-value>/rewrite-status</param-value>
    </init-param>
    <init-param>
      <param-name>statusEnabledOnHosts</param-name>
      <param-value>localhost, 127.0.0.*, *.lan</param-value>
    </init-param>
  </filter>


# add filter as a first entry:

  <filter-mapping>
    <filter-name>RewriteFilter</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>REQUEST</dispatcher>
  </filter-mapping>


# copy ..site/src/main/resources/META-INF/hst-assembly/overrides/urlrewriting-context.xml to your project
